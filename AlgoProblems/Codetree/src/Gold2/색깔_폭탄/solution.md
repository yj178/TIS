# [Codetree] [Gold2 색깔_폭탄](https://www.codetree.ai/training-field/frequent-problems/colored-bomb/description?page=2&pageSize=20)

## 목표
> 조건에 따라 round를 진행하며 터진 폭탄에 의해 얻은 총 점수가 얼마인지 구하시오

## 문제 조건
* 격자의 크기는 $N \times N$
* 격자를 이루고 있는 숫자는 -1이상 m이하
  * -1은 검은색 돌
  * 0은 빨간색 폭탄
  * 1이상 m이하는 빨간색, 검은색을 제외한 색의 폭탄
* 폭탄 묶음의 정의
  * 2개 이상의 폭탄으로 이루어져 있음
  * 모두 같은 색의 폭탄으로 이루어져 있거나 빨간색 폭탄을 포함하여 2개의 색으로만 이루어진 폭탄 그룹
    * 단, 빨간색만으로 이루어진 폭탄 그룹은 없음
  * 폭탄은 상하좌우로만 연결 가능
* 크기가 가장 큰 폭탄 묶음의 정의
  * 가장 많은 수의 폭탄들로 이루어진 폭탄 묶음
  * 크기가 같은 묶음이 존재한다면
    * 빨간색 폭탄이 가장 적게 포함된 것
    * 기준점 폭탄의 행이 가장 큰 경우
      * 폭탄 묶음 중 빨간색이 아니면서 행이 가장 큰 칸
    * 행이 같은 것이 여러 개라면 그 중 열이 가장 작은 칸
* 선택된 폭탄 묶음에 해당하는 폭탄 전부 제거
* 폭탄이 터진 이후 모든 돌은 중력에 의해 내려감
  * 단 검은색 돌은 위치 고정
* 반시계 방향으로 90도 만큼 회전 발생
* 다시 중력에 의해 내려감

* 폭탄이 C개 터지는 경우 점수는 C*C만큼 획득함
* 폭탄이 더 이상 터지지 않을 때 까지 얻을 수 있는 총 점수
  
* n은 격자의 크기를 의미함
* $2 \leq n \leq 20$
* $2 \leq m leq 5$

## 추가로 고려해야 할 사항
* map으로 관리하는 경우 폭탄이 제거된 값은 -1 ~ m이 아닌 숫자로 해야한다.
* 4방 탐색을 진행해야 함으로 dr, dc 필요
* 조건에 맞는 폭탄 꾸러미를 비교해야 하므로 class 생성
  * 그룹에 존재하는 폭탄들의 위치
  * 빨간 폭탄의 개수
  * 기준 폭탄의 행
  * 기준 폭탄의 열
* 한 round에서 그룹에 포함된 폭탄은 다시 확인할 필요가 없다. chk 활용
* 최대 점수는 400, int로 관리
* 중력에 의해 정렬하는 로직 필요

## 풀기 전 생각한 풀이 과정
* 시뮬레이션 실행
  * 더 이상 터질 폭탄이 없을때 까지 반복 실행
  * 터지는 과정에서 점수는 누적하여 기록
   1. 가장 많은 폭탄 꾸러미 찾기
      * BFS를 활용 
      * 해당 라운드의 그룹은 PriorityQueue로 가장 큰 그룹 제거
   2. 중력에 의한 위치 정렬
      * 아래부터 탐색하면서 정렬할 위치와 격자의 숫자를 비교하며 정렬 진행
   3. 반시계 회전
       * 행렬 회전 
   4. 중력에 의한 위치 정렬


## 풀면서 추가로 고려한 사항
* 폭탄 그룹이 1인 경우 누락함
* 폭탄 그룹의 기준 위치를 정렬하는 조건을 수정하는 과정에서 조건 일부 누락함

## 느낀 점
* 시작 시각 : 10:37
* 종료 시각 : 12:21
* 총 소요 시간 : 104분 (solution.md 작성 시간 포함)

꼼꼼하게 작성한다고 했지만 누락하는 조건이 있었습니다....
코드 작성시 작성해야 하는 부분에 주석으로 모든 조건을 달고 시작해봐야겠습니다.
