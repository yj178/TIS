# [Codetree] [Gold2 싸움땅](https://www.codetree.ai/training-field/frequent-problems/battle-ground/description?page=3&pageSize=20)

## 목표
문제에서 요구하는 결과

## 문제 조건
* 맵의 크기 : n * n
* 격자에는 무기들이 있을 수 있음
* 초기에는 무기들이 없는 빈 격자에 플레이들이 위치
* 격자의 빨간 숫자
  * 총 : 공격력
  * 플레이어 : 초기 능력치
* 격자의 노란 숫자
  * 플레이어 : 번호

* $2 \leq n \leq 20$
* $1 \leq m \leq min(n^2, 30)$
* $1 \leq k \leq 500$
* $1 \leq 총의 공격력 \leq 100,000$
* $1 \leq s \leq 100$
* $1 \leq x, y \leq n$

* 아래 과정을 k 라운드 만큼 반복함* 
* 첫 번째 플레이어부터 순차적으로 본인이 향하고 있는 방향대로 한 칸만큼 이동
  * 단, 격자를 벗어나는 경우 정반대 방향으로 변경하여 한 칸만큼 이동
  * 이동 위치의 플레이어 유무 파악
    * 이동한 방향에 플레이어가 없다면 총의 존재 유무 파악
      * 총이 있는 경우
        * 플레이어가 총을 가지고 있다면 격자의 총과 비교하여 더 좋은 총을 소지
          * 나머지 총은 격자에 놓음
        * 플레이어가 총을 소지하지 않은 경우에는 무조건 총을 획득
    * 이동한 방향에 플레이어가 있다면 전투발생
      * 해당 플레이어의 초기 능력치와 총의 공격력의 `합`(전투력)으로 승패 결정
        * 다만 전투력이 같은 경우 초기 능력치가 높은 쪽이 승리함
      * 승리한 플레이어는 전투력의 차이만큼 포인트를 획득
        * 승리한 칸에 떨어져 있는 총들 중 가장 공격력이 높은 총을 획득하고 나머지는 내려놓음
      * 패배한 플레이어는 본인의 총을 내려놓고 기존의 진행 방향으로 이동
        * 해당 칸에 다른 플레이어가 있거나 격자 밖으로 나가는 경우 오른쪽으로 90도 회전, 빈칸이 보이는 순간 이동함
        * 해당 칸에 총이 존재한다면 공격력이 가장 높은 총을 획득하고 나머지 총은 내려 놓음
* k 라운드 동안 진행하면서 각 플레이어들이 획득한 점수를 출력함

## 추가로 고려해야 할 사항
* 플레이어는 순차적으로 진행하므로 순서를 기록해야함
* 총은 한칸에 여러개가 존재할 수 있음, 총의 공격력은 int로 충분
* 방향은 0:위 1:오른쪽 2:아래 3:왼쪽
* 

## 풀기 전 생각한 풀이 과정
* 진행 순서가 매우 중요한 시뮬레이션
* 지도는 n*n PriorityQueue 사용
  

* 입력 진행
* k라운드 반복
   * m명의 플레이어 진행 반복
      * 이동 진행
         * 전투
           * 전투 결과 반영
         * 총 업데이트
  

## 풀면서 추가로 고려한 사항
* 처음에 총에 대한 정보를 Pos라는 클래스를 Key로 하는 TreeMap로 관리 하려다가 번잡해서 HashSet<Integer>[][]로 변경하여 관리함

* 코드 작성 과정에서 같은 위치에 있는 경우 한 플레이어를 pos에서 제거한 뒤, 남은 인원을 확인하고 싸움 로직을 진행했는데, 해당 과정에서 패배자의 위치가 없는 경우가 발생하여 틀렸음

## 느낀 점
시작 시각 : 13:13
종료 시각 : 15:18
소요 시간 : 125분
